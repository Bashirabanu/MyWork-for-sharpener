<html>
    <body>
        <form onsubmit="saveToLocalStorage(event)">
            <label>Name:</label>
            <input type="text" id="username" required/>
            <label>EmailId:</label>
            <input type="email" id="EmailId" required/>
            <label>Phone number:</label>
            <input type="tel" id="phonenumber" />
            <button>Submit </button>
        </form>
        <ul id="listOfUsers"></ul>
        <script>

document.addEventListener("DOMContentLoaded", () => {
  console.log("vscode");
  localStorage.getItem();
});

if (document.readyState !== "loading") {
  console.log("vscode");

  var keys = Object.keys(localStorage), //taking out all the keys that are there in the local storage
    i = keys.length; //6
  console.log("keys", keys);
  let stringifiedDetailsOfPeople, detailsOfPeople;

  // 6 to 0
  Object.keys(localStorage).forEach((key) => {
    //i==2
    if (key.match(/userDetails/g)) {
      //we only care about keys that start with userDetails
      //this is called regex matching
      stringifiedDetailsOfPeople = localStorage.getItem(key);
      console.log("stringifiedDetailsOfPeople", stringifiedDetailsOfPeople);
      detailsOfPeople = JSON.parse(stringifiedDetailsOfPeople);
      console.log("details", detailsOfPeople);

      addNewLineElement(detailsOfPeople);
    }
  });
}
        function saveToLocalStorage(event){
        event.preventDefault();
        const name = event.target.username.value;
        const email = event.target.EmailId.value;
        const phonenumber = event.target.phonenumber.value;
        // localStorage.setItem('name', name);
        // localStorage.setItem('email', email);
        // localStorage.setItem('phonenumber', phonenumber);
        const obj = {
        name,
        email,
        phonenumber
      };
      localStorage.setItem(obj.email,JSON.stringify(obj));
      showNewUserOnScreen(obj);
    }
    function showNewUserOnScreen(user){
        const parentNode = document.getElementById('listOfUsers');
        const childHTML = `<li> ${user.name} - ${user.email}</li>`;

        parentNode.innerHTML = parentNode.innerHTML + childHTML;
    }
        </script>
    </body>
</html>